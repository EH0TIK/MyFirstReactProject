{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\DIMA\\\\Desktop\\\\people\\\\ReactTestTask-MaxUser99-patch-1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\DIMA\\\\Desktop\\\\people\\\\ReactTestTask-MaxUser99-patch-1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DIMA\\\\Desktop\\\\people\\\\ReactTestTask-MaxUser99-patch-1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\DIMA\\\\Desktop\\\\people\\\\ReactTestTask-MaxUser99-patch-1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\DIMA\\\\Desktop\\\\people\\\\ReactTestTask-MaxUser99-patch-1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\DIMA\\\\Desktop\\\\people\\\\ReactTestTask-MaxUser99-patch-1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\DIMA\\\\Desktop\\\\people\\\\ReactTestTask-MaxUser99-patch-1\\\\src\\\\components\\\\LoginButtons\\\\FacebookBtn.js\";\nimport React from \"react\";\n\nvar FacebookBtn =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FacebookBtn, _React$Component);\n\n  function FacebookBtn() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FacebookBtn);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FacebookBtn)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.initializeFacebookLogin = function () {\n      _this.FB = window.FB;\n    };\n\n    _this.facebookLogin = function () {\n      if (!_this.FB) return;\n\n      _this.FB.getLoginStatus(function (response) {\n        if (response.status === \"connected\") {\n          _this.facebookLoginHandler(response);\n        } else {\n          _this.FB.login(_this.facebookLoginHandler, {\n            scope: \"public_profile\"\n          });\n        }\n      });\n    };\n\n    _this.apiCallback = function (response, userData) {\n      var onLogin = _this.props.onLogin;\n\n      var result = _objectSpread({}, response, {\n        user: userData\n      });\n\n      onLogin(true, result);\n    };\n\n    _this.facebookLoginHandler = function (response) {\n      var onLogin = _this.props.onLogin;\n\n      if (response.status === \"connected\") {\n        _this.FB.api(\"/me\", {\n          fields: \"name,last_name,first_name,location\"\n        }, function (userData) {\n          _this.apiCallback(response, userData);\n        });\n      } else {\n        onLogin(false);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(FacebookBtn, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"FBObjectReady\", this.initializeFacebookLogin);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"FBObjectReady\", this.initializeFacebookLogin);\n    }\n    /**\r\n     * Init FB object and check Facebook Login status\r\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return React.createElement(\"div\", {\n        onClick: this.facebookLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, children);\n    }\n  }]);\n\n  return FacebookBtn;\n}(React.Component);\n\nexport default FacebookBtn;","map":{"version":3,"sources":["C:\\Users\\DIMA\\Desktop\\people\\ReactTestTask-MaxUser99-patch-1\\src\\components\\LoginButtons\\FacebookBtn.js"],"names":["React","FacebookBtn","initializeFacebookLogin","FB","window","facebookLogin","getLoginStatus","response","status","facebookLoginHandler","login","scope","apiCallback","userData","onLogin","props","result","user","api","fields","document","addEventListener","removeEventListener","children","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAEMC,W;;;;;;;;;;;;;;;;;;UAYJC,uB,GAA0B,YAAM;AAC9B,YAAKC,EAAL,GAAUC,MAAM,CAACD,EAAjB;AACD,K;;UAKDE,a,GAAgB,YAAM;AACpB,UAAI,CAAC,MAAKF,EAAV,EAAc;;AAEd,YAAKA,EAAL,CAAQG,cAAR,CAAuB,UAACC,QAAD,EAAc;AACnC,YAAIA,QAAQ,CAACC,MAAT,KAAoB,WAAxB,EAAqC;AACnC,gBAAKC,oBAAL,CAA0BF,QAA1B;AACD,SAFD,MAEO;AACL,gBAAKJ,EAAL,CAAQO,KAAR,CAAc,MAAKD,oBAAnB,EAAyC;AAAEE,YAAAA,KAAK,EAAE;AAAT,WAAzC;AACD;AACF,OAND;AAOD,K;;UAKDC,W,GAAc,UAACL,QAAD,EAAWM,QAAX,EAAwB;AAAA,UAC5BC,OAD4B,GAChB,MAAKC,KADW,CAC5BD,OAD4B;;AAEpC,UAAME,MAAM,qBACPT,QADO;AAEVU,QAAAA,IAAI,EAAEJ;AAFI,QAAZ;;AAIAC,MAAAA,OAAO,CAAC,IAAD,EAAOE,MAAP,CAAP;AACD,K;;UAEDP,oB,GAAuB,UAACF,QAAD,EAAc;AAAA,UAC3BO,OAD2B,GACf,MAAKC,KADU,CAC3BD,OAD2B;;AAEnC,UAAIP,QAAQ,CAACC,MAAT,KAAoB,WAAxB,EAAqC;AACnC,cAAKL,EAAL,CAAQe,GAAR,CACE,KADF,EAEE;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAFF,EAGE,UAACN,QAAD,EAAc;AACZ,gBAAKD,WAAL,CAAiBL,QAAjB,EAA2BM,QAA3B;AACD,SALH;AAOD,OARD,MAQO;AACLC,QAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AACF,K;;;;;;;wCAvDmB;AAClBM,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,eAA1B,EAA2C,KAAKnB,uBAAhD;AACD;;;2CAEsB;AACrBkB,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,eAA7B,EAA8C,KAAKpB,uBAAnD;AACD;AAED;;;;;;6BAiDS;AAAA,UACCqB,QADD,GACc,KAAKR,KADnB,CACCQ,QADD;AAEP,aACE;AAAK,QAAA,OAAO,EAAE,KAAKlB,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGkB,QADH,CADF;AAKD;;;;EAjEuBvB,KAAK,CAACwB,S;;AAoEhC,eAAevB,WAAf","sourcesContent":["import React from \"react\";\r\n\r\nclass FacebookBtn extends React.Component {\r\n  componentDidMount() {\r\n    document.addEventListener(\"FBObjectReady\", this.initializeFacebookLogin);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"FBObjectReady\", this.initializeFacebookLogin);\r\n  }\r\n\r\n  /**\r\n   * Init FB object and check Facebook Login status\r\n   */\r\n  initializeFacebookLogin = () => {\r\n    this.FB = window.FB;\r\n  };\r\n\r\n  /**\r\n   * Check login status and call login api is user is not logged in\r\n   */\r\n  facebookLogin = () => {\r\n    if (!this.FB) return;\r\n\r\n    this.FB.getLoginStatus((response) => {\r\n      if (response.status === \"connected\") {\r\n        this.facebookLoginHandler(response);\r\n      } else {\r\n        this.FB.login(this.facebookLoginHandler, { scope: \"public_profile\" });\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Handle login response\r\n   */\r\n  apiCallback = (response, userData) => {\r\n    const { onLogin } = this.props;\r\n    const result = {\r\n      ...response,\r\n      user: userData\r\n    };\r\n    onLogin(true, result);\r\n  };\r\n\r\n  facebookLoginHandler = (response) => {\r\n    const { onLogin } = this.props;\r\n    if (response.status === \"connected\") {\r\n      this.FB.api(\r\n        \"/me\",\r\n        { fields: \"name,last_name,first_name,location\" },\r\n        (userData) => {\r\n          this.apiCallback(response, userData);\r\n        }\r\n      );\r\n    } else {\r\n      onLogin(false);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <div onClick={this.facebookLogin}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FacebookBtn;\r\n"]},"metadata":{},"sourceType":"module"}